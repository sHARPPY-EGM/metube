/* ORION - Modern Dark Theme with Purple Accents */
/* Complete UI Redesign */

// Color Palette
$bg-primary: #0d0d12
$bg-secondary: #16161d
$bg-tertiary: #1e1e28
$bg-elevated: #252530
$bg-hover: #2a2a38

$purple-accent: #7c3aed
$purple-hover: #8b5cf6
$purple-active: #6d28d9
$purple-subtle: rgba(124, 58, 237, 0.15)
$purple-border: rgba(124, 58, 237, 0.35)

$text-primary: #f0f0f5
$text-secondary: #a8a8b8
$text-muted: #6b6b7b

$success: #22c55e
$danger: #ef4444
$warning: #f59e0b
$info: #3b82f6

$border-radius-sm: 8px
$border-radius-md: 12px
$border-radius-lg: 16px

$transition-fast: 0.15s ease
$transition-normal: 0.25s ease

// CSS Custom Properties
:root[data-bs-theme="dark"]
    // Purple Theme
    --purple-accent: #{$purple-accent}
    --purple-hover: #{$purple-hover}
    --purple-active: #{$purple-active}
    
    // Backgrounds
    --bg-primary: #{$bg-primary}
    --bg-secondary: #{$bg-secondary}
    --bg-tertiary: #{$bg-tertiary}
    --bg-elevated: #{$bg-elevated}
    
    // Text
    --text-primary: #{$text-primary}
    --text-secondary: #{$text-secondary}
    --text-muted: #{$text-muted}
    
    // Bootstrap overrides
    --bs-primary: #{$purple-accent}
    --bs-primary-rgb: 124, 58, 237
    --bs-body-bg: #{$bg-primary}
    --bs-body-color: #{$text-primary}
    --bs-border-color: #{$purple-border}
    --bs-link-color: #{$purple-accent}
    --bs-link-hover-color: #{$purple-hover}
    --bs-success: #{$success}
    --bs-danger: #{$danger}
    --bs-warning: #{$warning}
    --bs-info: #{$info}

// Base Styles
*
    box-sizing: border-box

html
    background: $bg-primary
    min-height: 100vh
    scroll-behavior: smooth

body
    background: $bg-primary
    color: $text-primary
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif
    min-height: 100vh
    line-height: 1.6
    -webkit-font-smoothing: antialiased
    -moz-osx-font-smoothing: grayscale

// Navbar
.navbar
    background: $bg-secondary !important
    border-bottom: 1px solid $purple-border
    padding: 0.75rem 0
    backdrop-filter: blur(12px)

    .navbar-brand
        color: $text-primary !important
        font-weight: 700
        font-size: 1.5rem
        letter-spacing: 3px
        text-transform: uppercase
        transition: color $transition-fast

        &:hover
            color: $purple-accent !important

// Buttons
.btn
    border-radius: $border-radius-sm
    font-weight: 500
    transition: all $transition-fast
    border: none

.btn-primary
    background: $purple-accent
    color: #fff
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3)

    &:hover, &:focus
        background: $purple-hover
        color: #fff
        transform: translateY(-2px)
        box-shadow: 0 6px 20px rgba(124, 58, 237, 0.4)

    &:active
        background: $purple-active
        transform: translateY(0)

    &:disabled
        background: rgba(124, 58, 237, 0.4)
        color: rgba(255, 255, 255, 0.6)
        transform: none
        box-shadow: none

.btn-secondary
    background: $bg-tertiary
    color: $text-primary
    border: 1px solid $purple-border

    &:hover, &:focus
        background: $purple-accent
        border-color: $purple-accent
        color: #fff
        transform: translateY(-2px)

    &:active
        background: $purple-active
        transform: translateY(0)

.btn-outline-secondary
    background: transparent
    border: 1px solid $purple-border
    color: $text-secondary

    &:hover, &:focus
        background: $purple-subtle
        border-color: $purple-accent
        color: $purple-accent

.btn-link
    color: $purple-accent
    text-decoration: none
    padding: 0.375rem 0.5rem

    &:hover, &:focus
        color: $purple-hover
        transform: scale(1.1)

    &:disabled
        color: $text-muted
        opacity: 0.5
        transform: none

// Form Controls
.form-control, .form-select
    background: $bg-tertiary
    border: 1px solid rgba(255, 255, 255, 0.1)
    border-radius: $border-radius-sm
    color: $text-primary
    transition: all $transition-fast

    &:focus
        background: $bg-elevated
        border-color: $purple-accent
        color: $text-primary
        box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2)
        outline: none

    &::placeholder
        color: $text-muted

    &:disabled
        background: $bg-secondary
        opacity: 0.5

.form-control-lg
    padding: 0.875rem 1.25rem
    font-size: 1rem

.input-group-text
    background: $bg-elevated
    border: 1px solid rgba(255, 255, 255, 0.1)
    color: $text-secondary
    font-weight: 500

// Form Switch
.form-check-input
    background-color: $bg-tertiary
    border: 2px solid rgba(255, 255, 255, 0.2)
    width: 3rem
    height: 1.5rem
    cursor: pointer
    transition: all $transition-fast

    &:checked
        background-color: $purple-accent
        border-color: $purple-accent

    &:focus
        border-color: $purple-accent
        box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2)

.form-check-label
    color: $text-primary
    cursor: pointer
    user-select: none

// Cards
.card
    background: $bg-secondary
    border: 1px solid rgba(255, 255, 255, 0.08)
    border-radius: $border-radius-md

.card-body
    background: transparent
    padding: 1.5rem

// Tables
.table
    color: $text-primary
    --bs-table-bg: transparent
    --bs-table-hover-bg: #{$bg-hover}

    thead th
        background: $bg-tertiary
        border-bottom: 2px solid $purple-border
        color: $text-primary
        font-weight: 600
        padding: 1rem 0.75rem
        white-space: nowrap

    tbody
        tr
            transition: background $transition-fast

            &:hover
                background: $bg-hover

        td
            border-color: rgba(255, 255, 255, 0.05)
            padding: 1rem 0.75rem
            vertical-align: middle
            color: $text-primary

// Progress Bars - FIXED
.progress
    background: $bg-tertiary
    border-radius: 50px
    height: 1.5rem
    overflow: hidden
    position: relative

.progress-bar
    background: linear-gradient(90deg, $purple-accent, $purple-hover)
    border-radius: 50px
    transition: width 0.3s ease-out
    // Removed animation that was causing the jumping issue

// Modal
.modal-content
    background: $bg-secondary
    border: 1px solid $purple-border
    border-radius: $border-radius-lg
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5)

.modal-header
    border-bottom: 1px solid rgba(255, 255, 255, 0.1)
    padding: 1.25rem 1.5rem

    .modal-title
        color: $text-primary
        font-weight: 600

.modal-body
    padding: 1.5rem

.modal-footer
    border-top: 1px solid rgba(255, 255, 255, 0.1)
    padding: 1rem 1.5rem

.btn-close
    filter: invert(1) grayscale(100%) brightness(200%)
    opacity: 0.6

    &:hover
        opacity: 1

// Dropdown
.dropdown-menu
    background: $bg-secondary
    border: 1px solid $purple-border
    border-radius: $border-radius-sm
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4)
    padding: 0.5rem

.dropdown-item
    color: $text-primary
    border-radius: 6px
    padding: 0.5rem 1rem
    transition: all $transition-fast

    &:hover, &:focus
        background: $purple-subtle
        color: $purple-accent

    &.active
        background: $purple-accent
        color: #fff

// Alerts
.alert
    background: $bg-secondary
    border: 1px solid $purple-border
    border-radius: $border-radius-sm
    color: $text-primary

.alert-info
    background: rgba(59, 130, 246, 0.1)
    border-color: rgba(59, 130, 246, 0.3)
    color: $info

// Footer
.footer
    background: $bg-secondary !important
    border-top: 1px solid $purple-border
    padding: 1.5rem 0

// Tooltips
.tooltip
    .tooltip-inner
        background: $bg-secondary
        border: 1px solid $purple-border
        border-radius: 8px
        padding: 0.75rem 1rem
        color: $text-primary
        font-size: 0.875rem
        max-width: 300px
        text-align: left
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4)

    .tooltip-arrow
        display: none !important

// Scrollbar
::-webkit-scrollbar
    width: 10px
    height: 10px

::-webkit-scrollbar-track
    background: $bg-primary

::-webkit-scrollbar-thumb
    background: $bg-tertiary
    border-radius: 5px
    border: 2px solid $bg-primary

    &:hover
        background: $bg-elevated

// Selection
::selection
    background: rgba(124, 58, 237, 0.4)
    color: #fff

// Links
a
    color: $purple-accent
    transition: color $transition-fast

    &:hover
        color: $purple-hover

// Collapse Animation
.collapse:not(.show)
    display: none

.collapsing
    height: 0
    overflow: hidden
    transition: height 0.3s ease

// Horizontal Rule
hr
    border-color: rgba(255, 255, 255, 0.1)
    opacity: 1

// Text utilities
.text-primary
    color: $purple-accent !important

.text-success
    color: $success !important

.text-danger
    color: $danger !important

.text-warning
    color: $warning !important

.text-info
    color: $info !important

.text-muted
    color: $text-muted !important
